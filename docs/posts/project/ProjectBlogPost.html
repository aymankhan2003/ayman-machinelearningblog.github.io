<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ayman Khan">
<meta name="dcterms.date" content="2023-05-23">
<meta name="description" content="A blog post where we try to predict market values and trasnfer fees of soccer players.">

<title>My Awesome CSCI 0451 Blog - Project Blog Post</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>
    .quarto-title-block .quarto-title-banner {
      color: white;
background-image: url(../../img/landscape.png);
background-size: cover;
    }
    </style>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Awesome CSCI 0451 Blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Project Blog Post</h1>
                  <div>
        <div class="description">
          A blog post where we try to predict market values and trasnfer fees of soccer players.
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Ayman Khan </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 23, 2023</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>In the world of soccer, the market value serves as one of the main sources for generating revenue for soccer clubs. Over the last few years, the money spent on the market value has sky-rocketed with FIFA, the governing body in soccer, revealing that soccer clubs spent $7.35 billion in player acquisitions just in 2019. In this high stake environment, with so much money involved, it is important for clubs to accurately assess the market value of players before submitting a bid to buy a player. However, the traditional crowd-sourced approaches have been questioned for their inconsistency and susceptibility to bias. Recognizing this challenge, we aim to build an alternative to the conventional crowd-sourced approach to determining a player’s market value, using the power of machine learning algorithms. Our project not only targets determining a player’s market value, but also addresses a more complex issue in soccer finance: the ‘transfer fee’. The ‘transfer fee’—the total cost a club pays for a player—extends beyond the player’s market value, incorporating additional monetary obligations imposed by selling clubs. In the project, we have developed a machine learning model that relies on linear regression and random forest algorithms to estimate the transfer fee. This model has the potential to help clubs and transfer agents for strategic financial planning and reducing the risk of overpayment.</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Soccer, globally referred to as football, is one of the most widely followed sports, boasting a fan base exceeding a billion as reported by FIFA in 2017. A critical aspect of this sport is the annual transfer windows, periods when soccer clubs can trade players, which significantly affect the clubs’ strategies and finances.</p>
<p>Interestingly, one of the renowned websites for these market valuations, Transfermarkt, stated that they do not use an algorithm but instead relies on the wisdom of the community to estimate valuations.Given the significant influence of these crowd-sourced values, it becomes crucial to establish fixed parameters for evaluating these values, ensuring consistency and fairness. Elmundo, a popular newspaper in Spain, confirms that sports directors and representatives of soccer clubs do recognize the values from Transfermarkt.</p>
<p>Upon realizing that most market values are crowd sourced, the primary objective in the project is to propose a model that assigns specific weights to pertinent parameters, hence ensuring consistency in accurately estimating a player’s market value in the transfer market.</p>
<p>Previous attempts at estimating player transfer values have revealed the importance of ratings. A ScienceDirect article (Coates &amp; Parshakov, <a href="https://www.sciencedirect.com/science/article/abs/pii/S037722172100895X?via%3Dihub">2022</a>) emphasizes the significance of ratings in the player’s transfer market value. Alternative rating systems exist, such as the plus-minus rating, which calculates a team’s net goals when a specific player is on the field (Sæbø, Olav Drivenes, and Lars Magnus Hvattum, <a href="https://core.ac.uk/reader/327107620">2015</a>). Another comparable rating system, the Goal Impact Metric (GIM) (McHale, Benjamin Holmes, <a href="https://www.sciencedirect.com/science/article/pii/S0377221722005082#bib0029">2023</a>), has proponents arguing its superior predictive capabilities. Nonetheless, our project chose to employ standard FIFA ratings from the FIFA game developed by EA Sports due to the extra time required to gather data on goals scored with a player both present and absent from a team.</p>
<p>Contrary to the referenced papers, which restricted their estimates to the English transfer market due to data limitations and potential market variations, our project has broadened its scope. We estimate player transfer fees across not only the English league but also the German, French, Italian, and Spanish leagues. This expansion was facilitated by an extensive dataset spanning FIFA editions from 2015 to 2020, merged with concurrent transfer data.</p>
<p>In our modeling approach, we’ve selected Lasso (Linear regression with regularization) and Random Forest algorithms. While advanced models, such as Elastic-net regression — which integrates lasso and ridge regression — have shown enhanced accuracy in predicting transfer fees, our choice leans towards standard models(McHale, Benjamin Holmes, <a href="https://www.sciencedirect.com/science/article/pii/S0377221722005082#bib0029">2023</a>). We decided to use Linear Regression Lasso and Random Forest algorithms due to our familiarity with these standard methods and our curiosity to see how they compare against each other.</p>
</section>
<section id="values-statement" class="level1">
<h1>Values Statement</h1>
<p>Football is such an amusing topic to work with in many aspects. Those who follow the sport are particularly interested in the market value as people like to see where their favorite player might end up in. We decided to track how much a player costs and how much a team must pay for a player for our project.</p>
<p>Potential users can be viewed from different perspectives, as those who follow football could use the app to check the market value of their favorite players as well as how much they would cost a club. Because our market value predictor model is so accurate, even teams can use it to forecast a player’s market value. Even though we have a complete transfer fee model, it is not very accurate, so teams may not benefit. Our model could also serve as a foundational basis for fantasy soccer in the sense that it provides a player’s transfer information, allowing fantasy soccer users to predict a player’s market value and transfer fee information and base their fantasy scores on that.</p>
<p>Fans and those looking for “numbers-based” market value and transfer fee predictions can benefit from our models because the bias is standardized across all players, which may also help official teams make decisions without bias. Official reporters could also use this model to compare players who may have biases with actual market value models to the same players who do not have biases with our market value model.</p>
<p>As personal soccer fans, we found this project to be a fascinating aspect of the world. Because of the various external factors that can affect market value, it is sometimes difficult to know how much a player will actually cost a club, but this model that we created can help us get a close-to-accurate enough result that will let us know that if a club were to buy a specific player, they would need to pay a specific amount that our model tells us. Our model also assists us in determining a player’s market value, which can tell us whether a player is highly rated or not, because our project also displays graphs that show that the higher the rating, the higher the market value a player has. This project assisted us in answering some of our personal interesting questions, as we had always wondered about player statistics without visiting individual club websites, whereas this model allows us to print important information about these plays that can tell us a lot.</p>
<p>In a nutshell, our model would assist many soccer fans in learning a player’s value based on two pieces of information provided by our model, and it would assist the world of football in understanding the correlation between transfer fee and market value.</p>
</section>
<section id="materials-and-methods" class="level1">
<h1>Materials and Methods</h1>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<p>Our project has been made possible through the compilation of data from three distinct websites, which served as primary sources for both training and testing our models.</p>
<p><code>Sofifa.com:</code> This source primarily provides us with player ratings and potential scores and other attributes such as shooting scores, passing scores etc. from the popular video game series, FIFA, developed by EA Sports. The ratings are derived from the efforts of over 6,000 FIFA Data Reviewers, also known as Talent Scouts. <a href="https://www.goal.com/en-us/news/fifa-player-ratings-explained-how-are-the-card-number--stats-decided/1hszd2fgr7wgf1n2b2yjdpgynu">(Murphy, 2021)</a>. This collaborative work helps ensuring that player ratings are continuously updated and reflective of their real-time performance .The site’s updates are carried out weekly, thereby providing us with relevant data.</p>
<p><code>Transfermarkt.com:</code> This platform is our primary source for club data, serving as a resource for statistics related to clubs that individual players play for. Transfermarkt is a popular entity in the soccer world, known for its estimation of player market values. However, these values have been subject to criticism in the past, as noted in this New York Times article <a href="https://www.nytimes.com/2021/08/12/sports/soccer/soccer-football-transfermarkt.html">(Smith,2021)</a>. Consequently, for the purpose of our project, we’ve chosen to focus solely on factual club data. This includes league positions over the years, player rosters, amount of money spent in the market value, goals scored, and other quantifiable statistics that are a reliable record of the club’s performance.</p>
<p><code>Kaggle.com:</code> Originally, our strategy was to compile transfer data from 2018, coinciding with the final update to the data in FIFA 2017, just prior to the opening of the 2018 market value—a period of three months during which soccer clubs are permitted to trade players. However, given the limited number of player trades that occur each year and the resulting time-intensive nature of annual data scraping, we found a more efficient solution. We found a large dataset on Kaggle, containing transfer data from European leagues from 1992 to 2021. This data was published by a Kaggle user, <a href="https://www.kaggle.com/datasets/cbhavik/football-transfers-from-199293-to-202122-seasons">Bhavik Chadna</a>, and was initially scraped from TransferMarkt.com. In a significant enhancement to our methodology, we segmented this dataset by league and by year. This allowed us to merge data for each league, for each year, with corresponding player data from the respective FIFA years, as obtained from Sofifa.com. The final stage of our data processing involved aggregating all our segmented datasets into a singular, comprehensive CSV file. The resultant dataset comprises transfer data from 2015 to 2021, from prominent leagues including La Liga (Spain), Premier League (England), Ligue 1 (France), Serie A (Italy), and Bundesliga (Germany). This was subsequently aligned with player data from the corresponding years from Sofifa. In sum, our project utilizes data from Kaggle, effectively harmonizing it with data from Sofifa and Transfermarkt. This integrative approach ensures that our model is trained on the most comprehensive and accurate data possible.</p>
<p>Upon gathering and filtering the data, we finalized with two distinct datasets for each of our project models.</p>
<p>Market Value Model: This model is centered around the dataset derived from Sofifa’s FIFA 2017 statistics. This dataset comprises a total of 5700 observations, each comprising 59 features. Looking back, we recognize that the volume of observations could have been significantly expanded by integrating data from multiple years of FIFA. However, due to time constraints and satisfactory performance of the model with the current dataset, we concluded that the expansion was not required.</p>
<p>Transfer Fee Model: Our second model, focusing on transfer fees, was trained and tested on a dataset, with 619 observations and 78 distinct features. Although the dataset encompasses transfer records spanning from 2015 to 2021, the relatively small number of observations underlines an important aspect of the soccer market value: only a limited number of players are traded each year.</p>
<p>Our sources hold a good ethical standard mostly because of the nature of sports data, including soccer, which is generally made public. Soccer clubs are usually open about player transfers, making our sources such as Transfermarkt essentially collection points for this readily available information.</p>
</section>
<section id="approach" class="level2">
<h2 class="anchored" data-anchor-id="approach">Approach</h2>
<p>NOTE: For much more on the specifics + useful resources that helped us w/ this portion of project, refer to: Project.ipynb file in <a href="https://github.com/Hedavam/Market-Value-Predictor">Github Repository</a></p>
<pre><code>Market Value Model:</code></pre>
<p>Our imported data was fairly clean and we had plenty of samples and features (5700, 59). When preparing our data for model training, we dropped categorical features like name and field position and any samples with features containing N/A values. Also, we dropped release clause and wage because these features seem to be calculated by Fifa with the same formula that is used for market value so they were biased predictors. After all this, we got down to 5010 samples and 57 features. We used 20% of this data as a holdout test set and randomized our test_train_split because our original data was ordered by the player’s overall rating and we didn’t want the model to train on “good players” and test on “bad players” at the tail end of our dataset. We standardized our data using Sklearn’s StandardScaler() so the coefficients of our linear predictors could be more easily interpreted. Our target vector was the “value” column of our data and the rest of the features comprised our feature matrix.</p>
<p>Thereafter, we performed feature selection. We combined univariate feature selection approaches like mutual information and ANOVA with recursive feature elimination (w/ cross-validation) using Lasso Linear Regression to select the “most important” predictive features.</p>
<p>We trained our models on the standout selected features from our univariate + RFE approach (Age and overall rating seemed to be the most important ones). We used a LASSO model and a RandomForestRegressor model to observe the difference between linear and non-linear patterns.</p>
<p>To examine model success, we computed the score (coefficient of determination) on the holdout set and used cross-validation as well to ensure that the ranndomness of the train test split wasn’t giving us optimistic or pessimistic results on the holdout set.</p>
<p>We also plotted learning curves, actual vs.&nbsp;predicted, and residuals to visually aid in examining our model’s underfitting/overfitting tendencies.</p>
<pre><code>Transfer Fee Model:</code></pre>
<p>Our imported data had 708 samples and 78 features but it was not very clean. We had to subset the data for modeling to just field players (excluded goalkeepers) because goalkeepers had N/A values for many of the non-goalkeeping related features. We got down to 414 samples and 73 features (dropped categorical ones) for our field player data that we would use for modeling. We used 20% of this as a houldout test set and randomized our test_train_split. We standardized our data using Sklearn’s StandardScaler() so the coefficients of our linear predictors could be more easily interpreted. Our target vector was the “fee_cleaned” column of our data (which we turned into millions) and the rest of the features comprised our feature matrix.</p>
<p>Based on the literature from Ian G. McHale, Benjamin Holmes(https://www.sciencedirect.com/science/article/pii/S0377221722005082#bib0029), we engineered two features with high predictive power: avg. price paid by selling club and avg. price paid by buying club.</p>
<p>We performed the same process for feature selection as described for the market value model. The most notable and intuitive of these features were: ‘fee_cleaned_buyer_avg’(avg. price paid by buying club), ‘fee_cleaned_seller_avg’(avg. price paid by selling club), ‘value_eur’(market value). We also used age and potential as features because in the literature these features were deemed important by the author’s models.</p>
<p>Once again, we used a LASSO and Random Forest Regressor to obseve differences between the linear and ensemble approaches.</p>
<p>Given that this was a more complicated task than predicting market value, we tuned hyperparameters to squeeze out the best possible model performance for each model using nested cross-validation as we also wanted to use cross-validation to assess the success of the model with the best hyperparameters without optimistic biases.</p>
<p>We also computed the accuracy of the model on the holdout-set and used cross-validation, though neither of these measures were robust performance estimates as we had hoped them to be as is further explained in the results section.</p>
<p>We also plotted learning curves, actual vs.&nbsp;predicted, and residuals to visually aid in examining our model’s underfitting/overfitting tendencies.</p>
<p>We also performed an audit for bias by nationality. We picked 4 relatively well-represented countries (enough/similar amount of samples) in our dataset that are associated with great football players: England, France, Italy, Germany. First, we examined the disparities in “actual” transfer fee values for these countries in the dataset. We then used our “best” model for predictions to examine the disparities in “predicted” transfer fee values for these countries using both mean and median since outliers (though an integral and non-trivial aspect of the football market) made some predictions for some countries appear worse than others. We determined a threshold for “good” predictions and calculated the proportion of good predictions by country to further assess bias possibilities.</p>
</section>
<section id="implementing-a-small-user-interface-for-our-model" class="level2">
<h2 class="anchored" data-anchor-id="implementing-a-small-user-interface-for-our-model">Implementing a Small User Interface for our Model</h2>
<p>After receiving nearly 90% accuracy for our market value mode, we decided to build a small user interface for our model that, upon receiving a player’s name via user input, outputs the player’s predicted market value. We also integrated our market value model into the UI, which calculates how much a team would have to pay for a player.</p>
<p>We started by creating separate Python files for each of our market value codes and market value codes, which we then used as modules in our main Flask backend file. After we finished our modules, we used conditionals to incorporate them into our flask file, and each module would run upon the retrieval of each user’s input. A minor disadvantage of our program is that, because the model divides the data set into training and testing, not all players are available; thus, it may take a few input tries to obtain the market value of a specific player (for example, if the user enters “Robert Lewandowski” and he is in the testing data set, his value will be displayed; otherwise, the user may need to enter his name a couple of times until he is in the testing data set). We created our main front end designs using HTML, CSS, and JavaScript in one HTML file. We created our main front end designs in one HTML file by combining HTML, CSS, and JavaScript. The frontend itself was not complicated, as it only required sufficient time for page design, such as the colors, margins, and positions of each attribute visible in the UI.</p>
<p>Instructions for using the UI: - Navigate to the Github repository. - Download all of the files because each one is important to the model and app. - Then open the Python files and navigate to the directory where you saved them on your computer. - Then, within the Python notebook, run app.py, then navigate to the command shell and run the following command: python app.py - You can experiment with the UI by clicking on the link provided in the command shell. Unfortunately, because this is a - built-in Flask webpage, the link cannot be shared; thus, this is the only way to experiment with the app. - When running the Market Value Model UI, player names are formatted like “R. Lewandowski,” where the first name is abbreviated to just the first letter with a period and the last name, whereas for some players with no big last name, such as “’Neymar Jr,” the first name is spelled out and the last name is kept as is. Whereas the player name is formatted with their full name for the Transfer Fee Model, such as “Robert Lewandowski”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ProjectBlogPost_files/figure-html/293a5629-e6e5-458e-a714-84f62a08eb75.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">UI Page Cover.jpg</figcaption><p></p>
</figure>
</div>
<p>Disclaimer: The UI currently does not look like this, as Flask cannot render the background image. We edited the design to work in accordance with Flask, but the goal was for it to look like the image above which we did code but would only display as we opened the HTML file without the backend code. The original is similar, but with a white background instead of the background image which was designed by Anweshan.</p>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<pre><code>Market Value Model:</code></pre>
<section id="accuracy-measures" class="level2">
<h2 class="anchored" data-anchor-id="accuracy-measures">Accuracy Measures:</h2>
<section id="summary" class="level4">
<h4 class="anchored" data-anchor-id="summary">Summary:</h4>
<p>LASSO: About 75 % accuracy on both holdout &amp; cross-validation approach</p>
<p>RFR: About 95 % accuracy on both holdout &amp; cross-validation approach</p>
</section>
<section id="learning-curves-from-project-file" class="level4">
<h4 class="anchored" data-anchor-id="learning-curves-from-project-file">Learning Curves From Project File:</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ProjectBlogPost_files/figure-html/defb4ee3-cb76-4dd9-a0ab-7d2bdee23eb2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">image.png</figcaption><p></p>
</figure>
</div>
</section>
<section id="actual-vs.-predicted-residual-plot-from-project-file" class="level4">
<h4 class="anchored" data-anchor-id="actual-vs.-predicted-residual-plot-from-project-file">Actual vs.&nbsp;Predicted + Residual Plot From Project File:</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ProjectBlogPost_files/figure-html/73aaa6ff-70a1-4c6d-8ccc-88109711aef2.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">image.png</figcaption><p></p>
</figure>
</div>
<pre><code>Transfer Fee Model:</code></pre>
</section>
<section id="summary-1" class="level4">
<h4 class="anchored" data-anchor-id="summary-1">Summary:</h4>
<p>NOTE: Scores fluctuate from about the 60-70 % range based on the train_test_split. This could be accounted for by refitting and rescoring through various train_test_split loops, but is very time consuming.</p>
<p>LASSO: About 65 % accuracy using cross-validation; About 85 % on holdout set</p>
<p>RFR: About 70 % accuracy using cross-validation approach; About</p>
</section>
<section id="learning-curves-from-project-file-1" class="level4">
<h4 class="anchored" data-anchor-id="learning-curves-from-project-file-1">Learning Curves From Project File:</h4>
<p><img src="ProjectBlogPost_files/figure-html/b73fa14b-f0ea-4a84-8870-3cb58fdcf35b.png" class="img-fluid" alt="image.png"> #### Take-away:</p>
</section>
<section id="actual-vs.-predicted-residual-plot-from-project-file-1" class="level4">
<h4 class="anchored" data-anchor-id="actual-vs.-predicted-residual-plot-from-project-file-1">Actual vs.&nbsp;Predicted + Residual Plot From Project File:</h4>
<p><img src="ProjectBlogPost_files/figure-html/83833199-0d89-4c09-b966-9c390a64b44e.png" class="img-fluid" alt="image.png"> NOTE: The residual plots have different y_axis limits to account for data-specific outliers, so double checking the axis to interpret the residual plot instead of doing it spatially is important. #### Take-away: Both models are relatively accurate when predicting smaller transfer fees, but the higher the transfer fee goes, the less accurate the predictions are. Some outliers throw the models off.</p>
</section>
</section>
</section>
<section id="concluding-discussion" class="level1">
<h1>Concluding Discussion</h1>
<p>We were able to meet most of our goals as we developed a market value &amp; transfer fee model and also a UI for them.</p>
<p>Our results for the market value model matches up almost identically with that of the literature as our RandomForestRegressor model’s about 95% accuracy matches theirs: “Random Forest Regression also provided a significant improvement over the baseline model, with an RMSE of 1.64 and an R-squared score of 0.95.” (M. A. Al-Asadi and S. Tasdemır, https://ieeexplore.ieee.org/document/9721908)).</p>
<p>Our tranfer fee results, don’t match up as well with the literature because we don’t have a robust perfomance estimate. Though our cross validation scores of about 60%-70% for both models seem to be come somewhat close to that of the literature, though it is positively biased by data leakage.</p>
<p><img src="ProjectBlogPost_files/figure-html/348d7331-981d-44b5-acb5-7adf41143a51.png" class="img-fluid" alt="image.png"> Image from literature: McHale, Benjamin Holmes, <a href="https://www.sciencedirect.com/science/article/pii/S0377221722005082#bib0029">2023</a></p>
<p>I think ways to improve our transfer fee model, would be: - Gather more samples &amp; Useful Predictive Features (like Goal Impact Metric) - Engineer Useful Powerful Features (like contract time left in weeks) - Use k-fold target encoding and standard scaling, so that we could use cross validation without data leakage as more robust performance estimator - Look into bootsrapping for possible form of performance estimates</p>
</section>
<section id="group-contributions-statement" class="level1">
<h1>Group Contributions Statement</h1>
<p>Our project basically consisted of three sections: data collection and analysis, modeling the data to obtain predictions, and coding up the user interface. Anweshan handled the data side, while Hedavam and Ayman did contribute to the section by scraping half of the data required for the market value model. Later, Hedavam used the data that Anweshan had analyzed and cleaned to create a best-fit model that would provide us with good accuracy and predictions. Ayman and Anweshan assisted with the modeling by performing feature engineering to determine which variables would be delivered to Hedavam, who would use those variables to create the model. Ayman handled the final section of coding up the user interface because the code required the integration of JavaScript, HTML, CSS, and Python, whereas Hedavam provided the overall model code to support the UI, and Anweshan created the digital preview of the UI that appears appealing to the user at first glance. Moving on from the actual project code, each group member discussed their own sections within the Materials and Methods section, while also dividing some sections within each other. Anweshan was in charge of the Abstract and Introduction section, Ayman of the Values Statement and Group Contributions Statement, and Hedavam of the Results and Concluding Discussion. Work was distributed evenly, and everyone brought in work that demonstrated the effort they put into the project.</p>
</section>
<section id="personal-reflection" class="level1">
<h1>Personal Reflection</h1>
<p>This project has helped me learn a lot about the process of using Machine Learning for aspects in the real world. This project helped me intertwine my skills obtained in class with something I am actually passionate about. This project not only taught me about the ways to use ML Models, but it also helped me gain furthur skills in web/data scraping using R, frontend coding using JavaScript, CSS and HTML, and backend coding using Flask within Python. Spending all nighters in Davis was the fun and enjoyable experience that helped me and my team finish this project as well as obtain enormous amounts of knowledge that will help us prosper in our future careers. I plan to work more with this project as I want to be able to properly execute the UI into a webpage where I can share links with others, and hopefully use the skills acquired in this project in my future career, as I aspire to either be a software engineer or a data analyst. In a quick summary, I learned how to take in datasets, feature engineer them to accordance with our objectives, use different ML Models to obtains predictions of our aims goal, and later use that model to create a UI. I also learned how to shrink all these informations into a nice deliverable that can be presented to other people which was an interesting learning experience. Overall, this project fulfilled my goals of learning the techniques of Machine Learning in terms of implementation and experimentation with multiple datasets and in accordance with aspects in the real world, and I hope to furthur my goals as I try to put myself as a professional in the technological world.</p>
</section>
<section id="link-to-our-project-github" class="level1">
<h1>Link to our Project Github</h1>
<p>https://github.com/aymankhan2003/Market-Value-Predictor</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>